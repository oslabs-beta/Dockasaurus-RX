import React, { useMemo } from 'react';
import { createTheme, ThemeProvider, useMediaQuery } from '@mui/material';
import { packagedThemes } from './packagedThemes';
export function DockerMuiThemeProvider({ children, noSsr = true }) {
    const useDarkTheme = useMediaQuery('(prefers-color-scheme: dark)', { noSsr });
    const themeOptionsBag = window.__ddMuiV5Themes ?? packagedThemes;
    const themeOptions = themeOptionsBag[useDarkTheme ? 'dark' : 'light'];
    const theme = useMemo(() => createTheme(themeOptions), [themeOptions]);
    const params = new URLSearchParams(window.location.search);
    if (params.get('dialog') === 'true') {
        theme.palette.background.default = theme.palette.background.paper;
    }
    return React.createElement(ThemeProvider, { theme: theme }, children);
}
